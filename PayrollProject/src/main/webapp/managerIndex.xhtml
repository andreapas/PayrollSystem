<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head/>

<h:body>
	<h:outputStylesheet library="css" name="style.css" />
	<h:outputScript library="js" name="scripts.js"/>
	<script type="text/javascript">
	$( document ).ready(function() {
		showElementsOfRole("#{employeeBean.loggedUser.role}");
	});
	</script>

	<!-- 	<h:form> -->
	<div class="ui-g">

		<div class="ui-g-3">

			<p:panel id="mainMenu" header="Menu">
				<h:panelGrid columns="1" cellpadding="10">

					<p>Welcome #{employeeBean.loggedUser.name}</p>
					<h:form>
						<h:commandButton value="logout"
							action="#{sessionManagementBean.logout()}" />
					</h:form>
					<p:button value="Overview" icon="fa fa-eye"
						onclick="return showOnlyDivByClass('overviewPanel','dynamicPanel')" />
					<p:button value="Settings" icon="fa fa-gears"
						onclick="return showOnlyDivByClass('settingsPanel','dynamicPanel')" />
					<p:button value="Employees Management" icon="fa fa-users"
						onclick="return showOnlyDivByClass('employeesManagementPanel','dynamicPanel')" />
					<p:button value="Unions Management" icon="fa fa-university"
						onclick="return showOnlyDivByClass('unionsManagementPanel','dynamicPanel')" />
					<p:button value="Add Service Charge" icon="fa fa-dollar"
						onclick="return showOnlyDivByClass('serviceChargePanel', 'dynamicPanel')" />
				</h:panelGrid>
			</p:panel>

		</div>

		<div class="ui-g-9">
			<p:growl id="infoGrowl" autoUpdate="true" severity="info"
				sticky="false" life="3000" showDetail="true"></p:growl>
			<p:messages id="warnErrorPanel" autoUpdate="true" showDetail="true"
				severity="warn,error,fatal" closable="true" />

			<h:form id="overview">
				<p:panel header="Personal Informations:"
					class="dynamicPanel overviewPanel" style="display:block">
					<h:panelGrid columns="2">
						<p:outputLabel value="Name:" />
						<p:outputLabel value="#{employeeBean.loggedUser.name}" />

						<p:outputLabel value="Surname:" />
						<p:outputLabel value="#{employeeBean.loggedUser.surname}" />
						<p:outputLabel value="Email:" />
						<p:outputLabel value="#{employeeBean.loggedUser.email}" />
						<p:outputLabel value="Address:" />
						<p:outputLabel
							value="#{employeeBean.loggedUser.address.toString()}" />
						<p:outputLabel value="Preferred payment method selected:" />
						<p:outputLabel value="#{employeeBean.loggedUser.payment_method}" />
						<p:outputLabel value="Associated to Union:" />
						<p:outputLabel value="#{employeeBean.loggedUser.union.unionName}" />

					</h:panelGrid>
				</p:panel>
			</h:form>
			<p:panel header="Settings" class="dynamicPanel settingsPanel">
				<p:panel header="Personal Informations"
					class="dynamicPanel settingsPanel">
					<h:form id="persInfo">

						<h:panelGrid cellpadding="10" id="updateInfos">
							<p:outputLabel for="paymentMethod" value="Method of payment:" />
							<p:selectOneRadio id="paymentMethod"
								value="#{employeeBean.radioVal}">
								<f:selectItem itemLabel="Held for pickup by the paymaster"
									itemValue="#{employeeBean.optionsList.get(0)}" />
								<f:selectItem itemLabel="Mailed to the postal address"
									itemValue="#{employeeBean.optionsList.get(1)}" />
								<f:selectItem itemLabel="Deposited into the bank account"
									itemValue="#{employeeBean.optionsList.get(2)}" />
								<p:ajax process="paymentMethod" update="updateInfos" />
							</p:selectOneRadio>
							<p:panel header="Additional Informations"
								rendered="#{employeeBean.radioVal eq employeeBean.optionsList.get(1)}">
								<h:panelGrid columns="2">
									<p:outputLabel value="Address:" />
									<p:outputLabel
										value="#{employeeBean.loggedUser.address.toString()}" />
								</h:panelGrid>
							</p:panel>
							<p:panel header="Additional Informations"
								rendered="#{employeeBean.radioVal eq employeeBean.optionsList.get(2)}">
								<h:panelGrid columns="2">
									<p:outputLabel for="bank" value="IBAN:" />
									<p:inputMask id="bank"
										value="#{employeeBean.loggedUser.payment_method}" size="27"
										required="true" mask="aa99**********************" />
								</h:panelGrid>
							</p:panel>

							<h:panelGrid columns="2">
								<p:outputLabel for="street" value="Street:" />
								<p:inputText id="street"
									value="#{employeeBean.loggedUser.address.street}" />

								<p:outputLabel for="num" value="Number:" />
								<p:inputText id="num"
									value="#{employeeBean.loggedUser.address.number}" label="num">
									<f:validateDoubleRange minimum="1" maximum="999999" />
								</p:inputText>

								<p:outputLabel for="cap" value="CAP:" />
								<p:inputMask id="cap"
									value="#{employeeBean.loggedUser.address.cap}" mask="99999" />

								<p:outputLabel for="city" value="City:" />
								<p:inputText id="city"
									value="#{employeeBean.loggedUser.address.municipality}" />

								<p:outputLabel for="disCode" value="District Code:" />
								<p:selectOneMenu id="disCode"
									value="#{employeeBean.loggedUser.address.districtCode}"
									style="width:125px">
									<f:selectItems value="#{employeeBean.districtCodeList}"
										var="disList" itemLabel="#{disList}" />
								</p:selectOneMenu>
							</h:panelGrid>

							<p:outputLabel for="email" value="New email address:" />
							<p:inputText id="email" placeholder="Email"
								value="#{employeeBean.loggedUser.email}" />

							<p:outputLabel for="union" value="Change Union:" />
							<p:selectOneMenu id="union"
								value="#{employeeBean.loggedUser.union}" style="width:125px"
								converter="unionTranslator">
								<f:selectItems value="#{unionsBean.unionsList}" var="union"
									itemLabel="#{union.unionName}" />
							</p:selectOneMenu>

							<p:commandButton value="Submit updated informations"
								actionListener="#{employeeBean.updateInfo(employeeBean.loggedUser)}"
								update="@widgetVar(associatesList) updateInfos :overview @widgetVar(unionEditTable) @widgetVar(unionDeleteTable)"
								oncomplete="showOnlyDivByClass('settingsPanel', 'overviewPanel')" />
						</h:panelGrid>
					</h:form>
				</p:panel>
				<p:panel header="Password Management"
					class="dynamicPanel settingsPanel">
					<h:form id="passMgmt">
						<h:panelGrid cellpadding="10">
							<h:outputText value="Old Password: " />
							<p:password id="oldPassword"
								value="#{sessionManagementBean.oldLoginCredentials.password}"
								required="true" label="password" />

							<h:outputText value="New Password: " />
							<p:password id="newPassword"
								value="#{sessionManagementBean.newLoginCredentials.password}"
								feedback="true" match="repeatNewPassword" required="true" />

							<h:outputText value="Repeat New Password: " />
							<p:password id="repeatNewPassword"
								value="#{sessionManagementBean.newLoginCredentials.password}"
								feedback="true" required="true" />

							<p:commandButton value="Change Password"
								actionListener="#{sessionManagementBean.modifyPassword()}" />
						</h:panelGrid>
					</h:form>
				</p:panel>

			</p:panel>

			<p:panel header="User Management"
				class="dynamicPanel employeesManagementPanel">
				<h:panelGrid cellpadding="5" columns="3">

					<p:button value="Add employee"
						onclick="return showOnlyDivByClass('selectTypePanel','usersSubPanel')"
						icon="fa fa-user-plus" />
					<p:button value="Edit employee"
						onclick="return showOnlyDivByClass('editEmployeePanel','usersSubPanel');"
						icon="fa fa-edit" />
					<p:button value="Delete employee"
						onclick="return showOnlyDivByClass('deleteEmployeePanel','usersSubPanel');"
						icon="fa fa-remove" />

				</h:panelGrid>
			</p:panel>

			<p:panel header="Select type of Employee"
				class="dynamicPanel usersSubPanel selectTypePanel">
				<h:panelGrid cellpadding="5" columns="2">
					<p:button value="Part-time Employee"
						onclick="return showOnlyDivByClass('insertDetailsPanelPartTime','typeSubPanel')" />
					<p:button value="Full-time Employee"
						onclick="return showOnlyDivByClass('insertDetailsPanelFullTime','typeSubPanel')" />
				</h:panelGrid>
			</p:panel>
			<p:panel header="Insert Employee Details - Part Time Employee"
				class="dynamicPanel usersSubPanel typeSubPanel insertDetailsPanelPartTime">
				<h:form id="partHireAdditionalInfo">
					<p:panelGrid id="partGrid" cellpadding="5">
						<p:row>
							<p:column>
								<p:outputLabel for="parthirecode" value="Code:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:inputText id="parthirecode" placeholder="Code"
									required="true" value="#{employeeBean.partTimeEmployee.code}"></p:inputText>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="parthirename" value="Name:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:inputText id="parthirename" placeholder="Name"
									required="true" value="#{employeeBean.partTimeEmployee.name}"></p:inputText>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="parthiresurname" value="Surname:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:inputText id="parthiresurname" placeholder="Surname"
									required="true"
									value="#{employeeBean.partTimeEmployee.surname}"></p:inputText>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="parthireemail" value="Email:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:inputText id="parthireemail" placeholder="Email"
									required="true" value="#{employeeBean.partTimeEmployee.email}"></p:inputText>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="parthirepaymentMethod"
									value="Payment Method:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:selectOneMenu required="true" id="parthirepaymentMethod"
									value="#{employeeBean.radioVal}" style="width:125px">
									<f:selectItem itemLabel="#{employeeBean.optionsList.get(0)}"
										itemValue="#{employeeBean.optionsList.get(0)}" />
									<f:selectItem itemLabel="#{employeeBean.optionsList.get(1)}"
										itemValue="#{employeeBean.optionsList.get(1)}" />
									<f:selectItem itemLabel="#{employeeBean.optionsList.get(2)}"
										itemValue="#{employeeBean.optionsList.get(2)}" />
									<p:ajax process="parthirepaymentMethod"
										update="partHireAdditionalInfo" />
								</p:selectOneMenu>
							</p:column>
						</p:row>
						<p:row>
							<p:column colspan="2">
								<p:panel header="Additional Informations"
									rendered="#{employeeBean.radioVal eq employeeBean.optionsList.get(2)}">
									<h:panelGrid columns="2">
										<p:outputLabel for="bank" value="IBAN:" />
										<p:inputMask id="bank"
											value="#{employeeBean.partTimeEmployee.payment_method}"
											size="27" required="true" mask="aa99**********************" />
									</h:panelGrid>
								</p:panel>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="partStreet" value="Street:" />
							</p:column>
							<p:column>
								<p:inputText required="true" id="partStreet"
									value="#{employeeBean.address.street}" />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="partNum" value="Number:" />
							</p:column>
							<p:column>
								<p:inputText required="true" id="partNum"
									value="#{employeeBean.address.number}" label="num">
									<f:validateDoubleRange minimum="1" maximum="999999" />
								</p:inputText>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="partCap" value="CAP:" />
							</p:column>
							<p:column>
								<p:inputMask required="true" id="partCap"
									value="#{employeeBean.address.cap}" mask="99999" />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="partMunic" value="Municipality:" />
							</p:column>
							<p:column>
								<p:inputText required="true" id="partMunic"
									value="#{employeeBean.address.municipality}" />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="partDisCode" value="District Code:" />
							</p:column>
							<p:column>
								<p:selectOneMenu required="true" id="partDisCode"
									value="#{employeeBean.address.districtCode}"
									style="width:125px">
									<f:selectItems value="#{employeeBean.districtCodeList}"
										var="disList" itemLabel="#{disList}" />
								</p:selectOneMenu>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="parthirerate" value="Hourly Rate:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:inputNumber id="parthirerate" required="true"
									value="#{employeeBean.partTimeEmployee.hourlyRate}"
									symbol=" €/h" symbolPosition="s" decimalSeparator=","
									thousandSeparator="."></p:inputNumber>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="parthireunion" value="Union name:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:selectOneMenu id="parthireunion"
									value="#{employeeBean.partTimeEmployee.union}"
									style="width:125px" converter="unionTranslator">
									<!-- 				            <f:selectItem itemLabel="Select One" itemValue="" /> -->
									<f:selectItems value="#{unionsBean.unionsList}" var="union"
										itemLabel="#{union.unionName}" />
								</p:selectOneMenu>
							</p:column>
						</p:row>
						<p:row>
							<p:column colspan="2">
								<p:commandButton value="Add"
									actionListener="#{employeeBean.hirePartTimeEmployee()}"
									update="@widgetVar(associatesList) partGrid @widgetVar(editTable) @widgetVar(employeesTable) @widgetVar(unionEditTable) @widgetVar(unionDeleteTable)" />
							</p:column>
						</p:row>
					</p:panelGrid>
				</h:form>

			</p:panel>
			<p:panel header="Insert Employee Details - Full Time Employee"
				class="dynamicPanel usersSubPanel typeSubPanel insertDetailsPanelFullTime">
				<h:form id="fullHireAdditionalInfo">
					<p:panelGrid id="fullGrid" cellpadding="5">
						<p:row>
							<p:column>
								<p:outputLabel for="fullhirecode" value="Code:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:inputText id="fullhirecode" placeholder="Code"
									required="true" value="#{employeeBean.fullTimeEmployee.code}"></p:inputText>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="fullhirename" value="Name:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:inputText id="fullhirename" placeholder="Name"
									required="true" value="#{employeeBean.fullTimeEmployee.name}"></p:inputText>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="fullhiresurname" value="Surname:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:inputText id="fullhiresurname" placeholder="Surname"
									required="true"
									value="#{employeeBean.fullTimeEmployee.surname}"></p:inputText>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="fullhireemail" value="Email:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:inputText id="fullhireemail" placeholder="Email"
									required="true" value="#{employeeBean.fullTimeEmployee.email}"></p:inputText>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="fullhirepaymentMethod"
									value="Payment Method:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:selectOneMenu required="true" id="fullhirepaymentMethod"
									value="#{employeeBean.radioVal}" style="width:125px">
									<f:selectItem itemLabel="#{employeeBean.optionsList.get(0)}"
										itemValue="#{employeeBean.optionsList.get(0)}" />
									<f:selectItem itemLabel="#{employeeBean.optionsList.get(1)}"
										itemValue="#{employeeBean.optionsList.get(1)}" />
									<f:selectItem itemLabel="#{employeeBean.optionsList.get(2)}"
										itemValue="#{employeeBean.optionsList.get(2)}" />
									<p:ajax process="fullhirepaymentMethod"
										update=":fullHireAdditionalInfo" />
								</p:selectOneMenu>
							</p:column>
						</p:row>
						<p:row>
							<p:column colspan="2">
								<p:panel header="Additional Informations"
									rendered="#{employeeBean.radioVal eq employeeBean.optionsList.get(2)}">
									<h:panelGrid columns="2">
										<p:outputLabel for="bank" value="IBAN:" />
										<p:inputMask id="bank"
											value="#{employeeBean.fullTimeEmployee.payment_method}"
											size="27" required="true" mask="aa99**********************" />
									</h:panelGrid>
								</p:panel>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="fullStreet" value="Street:" />
							</p:column>
							<p:column>
								<p:inputText required="true" id="fullStreet"
									value="#{employeeBean.address.street}" />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="fullNum" value="Number:" />
							</p:column>
							<p:column>
								<p:inputText required="true" id="fullNum"
									value="#{employeeBean.address.number}" label="num">
									<f:validateDoubleRange minimum="1" maximum="999999" />
								</p:inputText>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="fullCap" value="CAP:" />
							</p:column>
							<p:column>
								<p:inputMask required="true" id="fullCap"
									value="#{employeeBean.address.cap}" mask="99999" />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="fullMunic" value="Municipality:" />
							</p:column>
							<p:column>
								<p:inputText required="true" id="fullMunic"
									value="#{employeeBean.address.municipality}" />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="fullDisCode" value="District Code:" />
							</p:column>
							<p:column>
								<p:selectOneMenu required="true" id="fullDisCode"
									value="#{employeeBean.address.districtCode}"
									style="width:125px">
									<f:selectItems value="#{employeeBean.districtCodeList}"
										var="disList" itemLabel="#{disList}" />
								</p:selectOneMenu>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="fullhiresalary" value="Salary:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:inputNumber id="fullhiresalary" required="true"
									value="#{employeeBean.fullTimeEmployee.salary}" symbol=" €"
									symbolPosition="s" decimalSeparator="," thousandSeparator="."></p:inputNumber>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="fullhireunion" value="Union name:"></p:outputLabel>
							</p:column>
							<p:column>
								<p:selectOneMenu id="fullhireunion"
									value="#{employeeBean.fullTimeEmployee.union}"
									style="width:125px" converter="unionTranslator">
									<!-- 				            <f:selectItem itemLabel="Select One" itemValue="" /> -->
									<f:selectItems value="#{unionsBean.unionsList}" var="union"
										itemLabel="#{union.unionName}" />
								</p:selectOneMenu>
							</p:column>
						</p:row>
						<p:row>
							<p:column colspan="2">

								<p:commandButton value="Add"
									actionListener="#{employeeBean.hireFullTimeEmployee()}"
									update="@widgetVar(associatesList) fullGrid @widgetVar(editTable) @widgetVar(employeesTable) @widgetVar(unionEditTable) @widgetVar(unionDeleteTable)" />
							</p:column>
						</p:row>
					</p:panelGrid>
				</h:form>
			</p:panel>

			<p:panel header="Edit Employee"
				class="dynamicPanel usersSubPanel editEmployeePanel">
				<h:panelGrid columns="3">
					<p:dataTable value="#{employeeBean.employeeList}" var="employee"
						widgetVar="editTable" rows="10" rowsPerPageTemplate="5,10,15">
						<f:facet name="header">
							<p:outputPanel>
								<h:outputText value="Search all fields:" />
								<p:inputText id="globalFilter"
									onkeyup="PF('editTable').filter()" style="width:150px"
									placeholder="Enter keyword" />
							</p:outputPanel>
						</f:facet>

						<p:column sortBy="#{employee.code}" filterBy="#{employee.code}"
							filterStyle="display:none" headerText="Code">
							<h:outputText value="#{employee.code}" />
						</p:column>

						<p:column sortBy="#{employee.name}" filterBy="#{employee.name}"
							filterStyle="display:none" headerText="Name">
							<h:outputText value="#{employee.name}" />
						</p:column>

						<p:column sortBy="#{employee.surname}"
							filterBy="#{employee.surname}" filterStyle="display:none"
							headerText="Surname">
							<h:outputText value="#{employee.surname}" />
						</p:column>

						<p:column sortBy="#{employee.address.toString()}"
							filterBy="#{employee.address.toString()}"
							filterStyle="display:none" headerText="Address">
							<h:outputText value="#{employee.address.toString()}" />
						</p:column>

						<p:column filterBy="#{employee.email}" filterStyle="display:none"
							headerText="Email">
							<h:outputText value="#{employee.email}" />
						</p:column>

						<p:column filterBy="#{employee.union.unionName}"
							filterStyle="display:none" headerText="Union">
							<h:outputText value="#{employee.union.unionName}" />
						</p:column>
						<p:column headerText="Edit">
							<p:commandButton icon="fa fa-edit"
								action="#{employeeBean.setGenericEmployee(employee)}"
								update=":selectedEmployee"
								onclick="return showDivsByClass('editDetailsEmployeePanel')" />
						</p:column>
					</p:dataTable>
				</h:panelGrid>
				<p:panel header="Edit this Employee"
					class="dynamicPanel editDetailsEmployeePanel">
					<h:form id="selectedEmployee">
						<h:panelGrid cellpadding="5" columns="2">

							<p:outputLabel for="editName" value="Name:" />
							<p:inputText id="editName"
								value="#{employeeBean.genericEmployee.name}" />
							<p:outputLabel for="editSurname" value="Surname:" />
							<p:inputText id="editSurname"
								value="#{employeeBean.genericEmployee.surname}" />
							<p:outputLabel for="editEmail" value="Email:" />
							<p:inputText id="editEmail"
								value="#{employeeBean.genericEmployee.email}" />

							<p:outputLabel for="editUnion" value="Union:" />
							<p:selectOneMenu id="editUnion"
								value="#{employeeBean.genericEmployee.union}"
								style="width:125px" converter="unionTranslator">
								<f:selectItems value="#{unionsBean.unionsList}" var="union"
									itemLabel="#{union.unionName}" />
							</p:selectOneMenu>
							<p:outputLabel for="editStreet" value="Street:" />
							<p:inputText id="editStreet"
								value="#{employeeBean.genericEmployee.address.street}" />

							<p:outputLabel for="editNum" value="Number:" />
							<p:inputText id="editNum"
								value="#{employeeBean.genericEmployee.address.number}"
								label="num">
								<f:validateDoubleRange minimum="1" maximum="999999" />
							</p:inputText>

							<p:outputLabel for="editCap" value="CAP:" />
							<p:inputMask id="editCap"
								value="#{employeeBean.genericEmployee.address.cap}" mask="99999" />

							<p:outputLabel for="editMunic" value="Municipality:" />
							<p:inputText id="editMunic"
								value="#{employeeBean.genericEmployee.address.municipality}" />

							<p:outputLabel for="editDisCode" value="District Code:" />
							<p:selectOneMenu id="editDisCode"
								value="#{employeeBean.genericEmployee.address.districtCode}"
								style="width:125px">
								<f:selectItems value="#{employeeBean.districtCodeList}"
									var="disList" itemLabel="#{disList}" />
							</p:selectOneMenu>
							<f:facet name="footer">
								<p:commandButton value="Update User Info"
									action="#{employeeBean.updateInfo(employeeBean.genericEmployee)}"
									update="@widgetVar(associatesList) :selectedEmployee @widgetVar(editTable) @widgetVar(employeesTable) @widgetVar(unionEditTable) @widgetVar(unionDeleteTable)"
									onclick="showOnlyDivByClass('editEmployeePanel', 'editDetailsEmployeePanel')" />
								<p:commandButton value="Cancel" resetValues="true"
									update=":selectedEmployee"
									onclick="showOnlyDivByClass('editEmployeePanel', 'editDetailsEmployeePanel')" />

							</f:facet>

						</h:panelGrid>
					</h:form>
				</p:panel>

			</p:panel>
			<p:panel header="Delete Employee"
				class="dynamicPanel usersSubPanel deleteEmployeePanel">
				<h:panelGrid columns="3">
					<p:dataTable var="employee" widgetVar="employeesTable"
						value="#{employeeBean.employeeList}" rows="10"
						rowsPerPageTemplate="5,10,15">
						<f:facet name="header">
							<p:outputPanel>
								<h:outputText value="Search all fields:" />
								<p:inputText id="globalFilter"
									onkeyup="PF('employeesTable').filter()" style="width:150px"
									placeholder="Enter keyword" />
							</p:outputPanel>
						</f:facet>
						<p:column sortBy="#{employee.code}" filterBy="#{employee.code}"
							filterStyle="display:none" headerText="Code">
							<h:outputText value="#{employee.code}" />
						</p:column>

						<p:column sortBy="#{employee.name}" filterBy="#{employee.name}"
							filterStyle="display:none" headerText="Name">
							<h:outputText value="#{employee.name}" />
						</p:column>

						<p:column sortBy="#{employee.surname}"
							filterBy="#{employee.surname}" filterStyle="display:none"
							headerText="Surname">
							<h:outputText value="#{employee.surname}" />
						</p:column>

						<p:column filterBy="#{employee.email}" filterStyle="display:none"
							headerText="Email">
							<h:outputText value="#{employee.email}" />
						</p:column>

						<p:column filterBy="#{employee.union.unionName}"
							filterStyle="display:none" headerText="Union">
							<h:outputText value="#{employee.union.unionName}" />
						</p:column>
						<p:column>
							<p:commandButton icon="fa fa-trash"
								action="#{employeeBean.setFireCode(employee.code)}"
								update=":selectedDeletableEmployee"
								onclick="showDivsByClass('deletableEmployeePanel')" />
						</p:column>
					</p:dataTable>
				</h:panelGrid>
				<p:panel header="Delete this Employee"
					class="dynamicPanel deletableEmployeePanel">
					<h:form id="selectedDeletableEmployee">
						<p:panelGrid cellpadding="5" >
							<p:row>
								<p:column>
									<p:outputLabel value="Are you sure, you want to remove " />
									<p:outputLabel value="#{employeeBean.fireCode}?"
										style="color:red" />
								</p:column>
							</p:row>
							<p:row>
								<p:column>
									<p:commandButton value="Fire"
										action="#{employeeBean.fireEmployee()}"
										update="@widgetVar(associatesList) :selectedDeletableEmployee  @widgetVar(editTable) @widgetVar(employeesTable) @widgetVar(unionEditTable) @widgetVar(unionDeleteTable)"
										onclick="showOnlyDivByClass('deleteEmployeePanel', 'deletableEmployeePanel')" />
								</p:column>
								<p:column>
									<p:commandButton value="Cancel" resetValues="true"
										update=":selectedDeletableEmployee "
										onclick="showOnlyDivByClass('deleteEmployeePanel', 'deletableEmployeePanel')" />
								</p:column>
							</p:row>
						</p:panelGrid>
					</h:form>
				</p:panel>

			</p:panel>
			<p:panel header="Unions Management"
				class="dynamicPanel unionsManagementPanel">
				<h:panelGrid cellpadding="5" columns="3">

					<p:button value="Add Union"
						onclick="return showOnlyDivByClass('addUnionPanel','unionsSubPanel')"
						icon="fa fa-plus-circle" />
					<p:button value="Edit Union"
						onclick="return showOnlyDivByClass('editUnionPanel','unionsSubPanel');"
						icon="fa fa-edit" />
					<p:button value="Delete Union"
						onclick="return showOnlyDivByClass('deleteUnionPanel','unionsSubPanel');"
						icon="fa fa-minus-circle" />

				</h:panelGrid>
			</p:panel>
			<p:panel header="Insert Union informations"
				class="dynamicPanel unionsSubPanel addUnionPanel">
				<h:form id="addUnionForm">
					<h:panelGrid cellpadding="5" columns="2">
						<p:outputLabel for="unionCode"
							value="Insert name of the new Union:" />
						<p:inputText id="unionCode" required="true"
							value="#{unionsBean.union.unionName}" />

						<p:outputLabel for="unionRate" value="Insert the weekly rate:" />
						<p:inputNumber id="unionRate" required="true"
							value="#{unionsBean.union.weeklyRate}" symbol="€"
							symbolPosition="s" />

						<p:commandButton action="#{unionsBean.addUnion()}"
							update="@widgetVar(associatesList) addUnionForm :persInfo :partHireAdditionalInfo :fullHireAdditionalInfo :selectedEmployee :selectedDeletableEmployee @widgetVar(unionEditTable) @widgetVar(unionDeleteTable)"
							value="Add Union" />
					</h:panelGrid>
				</h:form>
			</p:panel>
			<p:panel header="Edit Union"
				class="dynamicPanel unionsSubPanel editUnionPanel">
				<h:form id="editUnionForm">
					<p:dataTable value="#{unionsBean.unionsList}" var="union"
						widgetVar="unionEditTable" rows="10" rowsPerPageTemplate="5,10,15">
						<f:facet name="header">
							<p:outputPanel>
								<h:outputText value="Search all fields:" />
								<p:inputText id="globalFilter"
									onkeyup="PF('unionEditTable').filter()" style="width:150px"
									placeholder="Enter keyword" />
							</p:outputPanel>
						</f:facet>

						<p:column sortBy="#{union.unionName}"
							filterBy="#{union.unionName}" filterStyle="display:none"
							headerText="Union Name">
							<h:outputText value="#{union.unionName}" />
						</p:column>


						<p:column filterBy="#{union.weeklyRate}"
							filterStyle="display:none" headerText="Weekly Rate (€)">
							<h:outputText value="#{union.weeklyRate}" />
						</p:column>

						<p:column headerText="Number of Associates">
							<h:outputText value="#{union.associates.size()}" />
						</p:column>

						<p:column headerText="Edit">
							<p:commandButton icon="fa fa-edit"
								action="#{unionsBean.setUnion(union)}"
								update="selectedUnion :persInfo :partHireAdditionalInfo :fullHireAdditionalInfo :selectedEmployee :selectedDeletableEmployee @widgetVar(unionEditTable) @widgetVar(unionDeleteTable) @widgetVar(associatesList)"
								onclick="return showOnlyDivByClass('editDetailsUnionPanel');" />
						</p:column>
					</p:dataTable>
				</h:form>
				<p:panel header="Edit this Union"
					class="dynamicPanel unionsSubPanel editDetailsUnionPanel">
					<h:form id="selectedUnion">
						<h:panelGrid cellpadding="5" columns="2">

							<p:outputLabel for="editUnionRate"
								value="Edit the rate of the Union #{unionsBean.union.unionName}:" />
							<p:inputNumber id="editUnionRate"
								value="#{unionsBean.union.weeklyRate}" symbol="€"
								symbolPosition="s" />

							<p:commandButton action="#{unionsBean.updateUnion()}"
								value="Update this Union"
								update="selectedUnion :persInfo :partHireAdditionalInfo :fullHireAdditionalInfo :selectedEmployee :selectedDeletableEmployee @widgetVar(unionEditTable) @widgetVar(unionDeleteTable) @widgetVar(associatesList)"
								onclick="showOnlyDivByClass('editUnionPanel', 'editDetailsUnionPanel')" />
							<p:commandButton resetValues="true" value="Cancel"
								update="selectedUnion"
								onclick="showOnlyDivByClass('editUnionPanel', 'editDetailsUnionPanel')" />
						</h:panelGrid>
					</h:form>
				</p:panel>
			</p:panel>
			<p:panel header="Delete Union"
				class="dynamicPanel unionsSubPanel deleteUnionPanel">
				<h:form>
					<p:dataTable value="#{unionsBean.unionsList}" var="union"
						widgetVar="unionDeleteTable" rows="10"
						rowsPerPageTemplate="5,10,15">
						<f:facet name="header">
							<p:outputPanel>
								<h:outputText value="Search all fields:" />
								<p:inputText id="globalFilter"
									onkeyup="PF('unionDeleteTable').filter()" style="width:150px"
									placeholder="Enter keyword" />
							</p:outputPanel>
						</f:facet>

						<p:column sortBy="#{union.unionName}"
							filterBy="#{union.unionName}" filterStyle="display:none"
							headerText="Union Name">
							<h:outputText value="#{union.unionName}" />
						</p:column>


						<p:column filterBy="#{union.weeklyRate}"
							filterStyle="display:none" headerText="Weekly Rate (€)">
							<h:outputText value="#{union.weeklyRate}" />
						</p:column>

						<p:column headerText="Number of Associates">
							<h:outputText value="#{union.associates.size()}" />
						</p:column>

						<p:column headerText="Delete">
							<p:commandButton icon="fa fa-close"
								action="#{unionsBean.setFireUnionName(union.unionName)}"
								update="deletableUnionForm"
								onclick="return showDivsByClass('deletableUnion')" />
						</p:column>
					</p:dataTable>
				</h:form>
				<p:panel header="Delete this Union"
					class="dynamicPanel unionsSubPanel deletableUnion">
					<h:form id="deletableUnionForm">

						<p:outputLabel
							value="Do you want to delete #{unionsBean.fireUnionName}?" />
						<h:panelGrid cellpadding="5" columns="2">
							<p:commandButton action="#{unionsBean.removeUnion()}"
								update="deletableUnionForm :persInfo :partHireAdditionalInfo :fullHireAdditionalInfo :selectedEmployee :selectedDeletableEmployee @widgetVar(unionEditTable) @widgetVar(unionDeleteTable) @widgetVar(associatesList)"
								value="Yes"
								onclick="showOnlyDivByClass('deleteUnionPanel', 'deletableUnion')" />
							<p:commandButton resetValues="true" update="deletableUnionForm"
								value="No"
								onclick="showOnlyDivByClass('deleteUnionPanel', 'deletableUnion')" />
						</h:panelGrid>
					</h:form>
				</p:panel>
			</p:panel>
			<p:panel header="Add union service charge"
				class="serviceChargePanel dynamicPanel">
				<h:form id="chargeForm">
					<h:panelGrid columns="2">

						<p:outputLabel value="Amount to charge:" />
						<p:inputNumber decimalSeparator="," thousandSeparator="."
							value="#{transactionsBean.transaction.amount}" />
						<p:outputLabel value="Informations:" />
						<p:inputTextarea value="#{transactionsBean.transaction.info}" />
					</h:panelGrid>
					<p:dataTable widgetVar="associatesList" id="associatesTable"
						var="employee" value="#{employeeBean.employeeList}"
						rowKey="#{employee.code}"
						selection="#{transactionsBean.employeeList}"
						style="margin-bottom:0">
						<p:column selectionMode="multiple"
							style="width:16px;text-align:center" />
						<p:column sortBy="#{employee.code}" headerText="Code">
							<p:outputLabel value="#{employee.code}" />
						</p:column>
						<p:column sortBy="#{employee.name}" headerText="Name">
							<p:outputLabel value="#{employee.name}" />
						</p:column>
						<p:column sortBy="#{employee.surname}" headerText="Surname">
							<p:outputLabel value="#{employee.surname}" />
						</p:column>
						<p:column sortBy="#{employee.union.unionName}"
							headerText="Union Name">
							<p:outputLabel value="#{employee.union.unionName}" />
						</p:column>
						<f:facet name="footer">
							<p:commandButton process=":chargeForm"
								update="@widgetVar(associatesList)" value="Add service to those"
								action="#{transactionsBean.addServiceCharge()}" />
						</f:facet>
					</p:dataTable>
				</h:form>
			</p:panel>
		</div>

	</div>
	<!-- 	template addressEdit -->


	<!-- <p:outputLabel for="editStreet" value="Street:" />
							<p:inputText id="editStreet"
								value="#{employeeBean.genericEmployee.address.street}" />

							<p:outputLabel for="editNum" value="Number:" />
							<p:inputText id="editNum"
								value="#{employeeBean.genericEmployee.address.number}"
								label="num">
								<f:validateDoubleRange minimum="1" maximum="999999" />
							</p:inputText>

							<p:outputLabel for="editCap" value="CAP:" />
							<p:inputMask id="editCap"
								value="#{employeeBean.genericEmployee.address.cap}" mask="99999" />

							<p:outputLabel for="editMunic" value="Municipality:" />
							<p:inputText id="editMunic"
								value="#{employeeBean.genericEmployee.address.municipality}" />

							<p:outputLabel for="editDisCode" value="District Code:" />
							<p:selectOneMenu id="editDisCode"
								value="#{employeeBean.genericEmployee.address.districtCode}"
								style="width:125px">
								<f:selectItems value="#{employeeBean.districtCodeList}"
									var="disList" itemLabel="#{disList}" />
							</p:selectOneMenu> -->

	<!-- All the widgetVar table names to be updated -->
	<!--@widgetVar(editTable) @widgetVar(employeesTable) @widgetVar(unionEditTable) @widgetVar(unionDeleteTable) -->
	<!-- All form id to update from Unions -->
	<!-- :persInfo :partHireAdditionalInfo :fullHireAdditionalInfo :selectedEmployee :selectedDeletableEmployee -->
</h:body>
</html>

